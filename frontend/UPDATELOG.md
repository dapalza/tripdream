#DaPalZa front 수정 일지#

##2023-02-24##
###기존 방식에서 다양한 문제점이 발견됨###
> 1. 로그인 버튼 문제
>> 로그인을 성공적으로 했지만 로그인 버튼이 로그아웃으로 바뀌지 않는 상황이 발생한다. token도 정상적으로 생성되었으나 common-head가 router의 밖에 존재하여 re-rendering을 진행하지 않아 이전의 상태를 유지하고 있어서 발생. 해결 방안으로 3가지 방법을 고려.
>> 1. common-head부분을 router안으로 넣어 모든 components의 상단에 넣어준다.
>>> 이 방식은 위의 문제를 해결하나 모든 화면에서 보여줄려한 common-head의 의미를 잃고 로그인 외에도 모든 상황에서 re-rendering을 진행 큰 차이는 없을 수 있으나 비효율적으로 보이고 좋은 방식은 아닌것 같다.
>> 2. 로그인을 성공하면 reload를 진행하자.
>>> 이를 하면 로그인에서 성공을 하면 특정 변수를 로컬 스토어에 넣어주고 이 변수가 존재하면 해당 변수를 삭제 후 reload를 진행. 이 순서가 바뀔 경우 무한 새로고침에 빠지는 시행착오를 겪음. 또 로그인을 성공하면 이전 화면으로 넘어가는 과정에서 회원가입후 바로 로그인을 할 경우 회원가입과 로그인에 걸려있는 가드가 이미 로그인이 되어있어 이전으로 보내려는 시도를 하여 로그인과 회원가입이 무한 순환의 구조를 경험함. 해당 영역을 수정하기 위해서 router.push를 router.replace로 수정함. 이제 '/a'라는 링크에서 로그인을 하면 '/a'로 넘어가고, '/a'에서 로그인을 거쳐 회원가입을 한 후, 로그인을 해도 '/a'로 이동.
>> 3. 특정 값의 변화가 있을 경우 common-head만 re-rendering을 진행하자.
>>> 해당 방법이 가장 깔끔하고 정답인거 같으나, 해당 방법을 쓰기 위해서는 전역변수를 설정하고 해당 값을 로그인시, 값에 변화를 주고 re-render를 진행한 후 다시 값을 원복시키는 방식으로 진행하면 될 것 같으나 해당 방법을 써본 경험이 없어 세세한 진행과정에서 난항을 겪고 하차.... 향후 여유가 될 경우 이 방식으로 수정 작업을 진행할 예정

> 2. 로그인 및 회원가입의 값 유지 문제
>> 로그인과 회원가입에 input의 type이 text인 부분은 값을 입력 후 뒤로 가기와 앞으로 가기를 진행하면 이전에 입력했던 값이 그대로 존재하는 문제가 발견됨. 이는 href를 이용한 router이동시 발생하는 것으로 확인. 이를 해결하기 위해서 href가 아닌 click이벤트로 수정하여, 클릭 이벤트 발생시 router.push, router.replace를 진행하여 input 값을 초기화하였다.

> 3. axios의 많은 접근 해소
>> axios가 vue에서 import하여 사용하니 너무 다양한 많이 사용하는 거 같은 느낌을 받고 같은 axios가 중복되는 방식으로 사용되는 경우가 발생.(ex. 회원가입시 nick중복 체크 == 유저 정보 수정시 nick중복 체크) 이 문제를 풀기 위해서 store부분에서 axios를 관리하는 방향으로 파일 구조를 수정. 가능하면 store에서 객체중심의 구조로 파일 관리 예정(ex. token, customer, board 등).

> 4. global 영역의 적극 활용.
>> 유효성 검사의 경우 회원가입 or 로그인에서만 쓰이는 것이 아니고 나중에 유저정보 수정이나 타 프로젝트에서도 같은 값을 사용할 수 있는 특징을 가진 값들을 global영역에서 컨트롤할 예정. 물론 다른 영역(판매 혹은 리뷰)에서 안쓰이고 코드 자체가 무거워 질 수 있으나 해당 부분은 프로젝트가 커질 경우 global이 아닌 js로 분리하여 util부분으로 관리하여 필요 영역에서 호출하여 사용하도록 진행할 예정. 그전까지는 global영역을 사용하여 현재의 코드를 간략화 진행.

###향후 진행 방향###
> 1. 로그인과 회원가입의 업무 영역 분할
>> 기본적인 기능과 방식 예제는 어느 정도 완성된 상태이므로 이제 참고 삼아 진행해도 문제가 없을 것이라 판단. 하지만 같이 진행해야 할 부분은 분명 존재. 간간히 의논을 해야할듯하다.

> 2. 클라이언트와 서버에서의 데이터 통신
>> 현재 상태에서 서버와의 통신을 진행할 경우 변수 명과 파라미터의 차이로 에러 발생. 이를 해결하여 데이터 통신을 확인해 봐야한다.

> 3. 함수명과 변수명 
>> 현재 정한 규칙 중 함수명과 변수명이 엉망인 경우가 많은 이를 해소해야함.
 
> 4. 주석의 정리
>> 현재는 해당 부분에 대한 주석이 달려있지만, 더 이상 손대지 않을 코드의 경우 주석을 파일을 새로 만들어서 정리하는 방식이 좋을 것같다는 생각을 함. 제품 설명서 같은 느낌.


